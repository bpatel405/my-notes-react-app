(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),i=a(60),c=a.n(i),l=a(3),s=a(6),r=a(8),d=a(7),u=a(9),m=function e(){Object(l.a)(this,e),this.Id="",this.Title="New Note",this.Body=""},N=(a(67),a(68),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).getInitials=function(e){var t=e.split(" "),a="";return t.forEach(function(e){a+=e.charAt(0)}),a},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.UserName,t=this.getInitials(e),a=this.props.NoteList,n=this.props.ActiveIndex,i=this.props.changeActiveNote,c=this.props.createNewNote;return o.a.createElement("div",{className:"panel-container"},o.a.createElement("div",{className:"border-bottom p-1"},o.a.createElement("div",{className:"d-flex flex-row mb-2"},o.a.createElement("div",{className:"badge badge-secondary h1 profile-initial mt-2"},t),o.a.createElement("div",{className:"container ml-2"},o.a.createElement("div",{className:"row"},o.a.createElement("span",{className:"profile-name"},e)),o.a.createElement("div",{className:"row mt-1"},o.a.createElement("button",{className:"btn btn-danger btn-sm logout-btn",onClick:this.props.onLogout},"Logout"))))),o.a.createElement("button",{className:"btn btn-light btn-block my-3",onClick:c},"Create New Note"),o.a.createElement("div",{className:"note-list"},a.map(function(e,t){return o.a.createElement("button",{className:n===t?"border btn note-option active":"border btn note-option",key:t,onClick:function(){return i(t)}},e.Title)})))}}]),t}(n.Component));N.defaultProps={NoteList:[],ActiveIndex:-1,changeActiveNote:console.log,createNewNote:console.log};var h=N,p=(a(69),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).onChangeNoteTitle=function(e){var t=a.refs.title.value;t.length>=50?e.preventDefault():a.props.handleOnChangeNoteTitle(t)},a.onChangeNoteBody=function(){var e=a.refs.body.value;a.props.handleOnChangeNoteBody(e)},a.handleKeyPress=function(e){"Tab"===e.key&&(e.preventDefault(),e.target.value+="\t")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.activeNote;return o.a.createElement("div",{className:"fluid-container note-container"},o.a.createElement("div",{className:"row border-bottom"},o.a.createElement("div",{className:"input-group note-title-group"},o.a.createElement("input",{type:"text",className:"form-control",ref:"title",placeholder:"Title",value:e.Title,onChange:this.onChangeNoteTitle}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{className:"input-group-text btn btn-danger delete-btn",onClick:this.props.deleteNote},"X")))),o.a.createElement("div",{className:"row note-body"},o.a.createElement("textarea",{className:"form-control",ref:"body",placeholder:"Body",value:e.Body,onChange:this.onChangeNoteBody,onKeyDown:this.handleKeyPress})))}}]),t}(n.Component));p.defaultProps={activeNote:new m,onChangeNoteTitle:console.log,onChangeNoteBody:console.log,deleteNote:console.log};var f=p,v=a(61),g=a.n(v),b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).uiConfig={signInFlow:"popup",signInOptions:[a.props.firebase.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"fluid-container text-white",style:{height:"100vh"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4"}),o.a.createElement("div",{className:"col-md-4",style:{marginTop:"25vh",border:"2px solid #00b3db"}},o.a.createElement("h1",{className:"d-flex justify-content-center"},"My Notes"),o.a.createElement("p",{className:"d-flex justify-content-center"},"Please \xa0 ",o.a.createElement("b",null,"Log-In:")),o.a.createElement(g.a,{uiConfig:this.uiConfig,firebaseAuth:this.props.firebase.auth()})),o.a.createElement("div",{className:"col-md-4"})))}}]),t}(o.a.Component),y=a(19),E=a.n(y);a(126);E.a.initializeApp({apiKey:"AIzaSyBVQGQ4DwJqToUGeFeEjM8BKabG2ux2fUM",authDomain:"my-notes-2fa1c.firebaseapp.com",databaseURL:"https://my-notes-2fa1c.firebaseio.com",projectId:"my-notes-2fa1c",storageBucket:"my-notes-2fa1c.appspot.com",messagingSenderId:"761603453110"});var I=E.a.firestore(),O=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).handleOnChangeActiveNote=function(e){a.setState({ActiveIndex:e})},a.handleOnChangeNoteTitle=function(e){var t=a.state.ActiveIndex;if(-1!==t){var n=a.state.NoteList;I.collection("notes").doc(n[t].Id).update({NoteTitle:e})}},a.handleOnChangeNoteBody=function(e){var t=a.state.ActiveIndex;if(-1!==t){var n=a.state.NoteList;I.collection("notes").doc(n[t].Id).update({NoteBody:e})}},a.handleCreateNewNote=function(){var e=new m;I.collection("notes").add({NoteTitle:e.Title,NoteBody:e.Body,Uid:a.state.Uid})},a.handleDeleteNote=function(){var e=a.state.NoteList,t=a.state.ActiveIndex;I.collection("notes").doc(e[t].Id).delete()},a.logInUser=function(e){a.setState({NoteList:[],activeIndex:-1,DisplayName:e.displayName,Uid:e.uid},function(){localStorage.setItem("uid",a.state.Uid),localStorage.setItem("displayName",a.state.DisplayName)})},a.logoutUser=function(){a.setState({NoteList:[],activeIndex:-1,DisplayName:"",Uid:""},function(){localStorage.removeItem("uid"),localStorage.removeItem("displayName")})},a.onNewNoteAdd=function(e,t){var n=new m;n.Title=e.NoteTitle,n.Body=e.NoteBody,n.Id=t;var o=a.state.NoteList;o.push(n),a.setState({NoteList:o})},a.onNoteModified=function(e,t){var n=a.state.NoteList,o=n.findIndex(function(e){return e.Id===t});n[o].Title=e.NoteTitle,n[o].Body=e.NoteBody,a.setState({NoteList:n})},a.onNoteDeleted=function(e){var t=a.state.NoteList;t=t.filter(function(t){return t.Id!==e}),a.setState({NoteList:t,ActiveIndex:-1})},a.dataListener=function(){a.unsubscribe=I.collection("notes").where("Uid","==",a.state.Uid).onSnapshot(function(e){e.docChanges().forEach(function(e){"added"===e.type&&a.onNewNoteAdd(e.doc.data(),e.doc.id),"modified"===e.type&&a.onNoteModified(e.doc.data(),e.doc.id),"removed"===e.type&&a.onNoteDeleted(e.doc.id)})})},a.componentDidMount=function(){a.unregisterAuthObserver=E.a.auth().onAuthStateChanged(function(e){null!==e?(a.logInUser(e),a.dataListener()):(a.logoutUser(),a.unsubscribe())})},a.componentWillUnmount=function(){a.unregisterAuthObserver()};var n=null!==localStorage.getItem("uid")?localStorage.getItem("uid"):"",o=null!==localStorage.getItem("displayName")?localStorage.getItem("displayName"):"";return a.state={Uid:n,DisplayName:o,NoteList:[],ActiveIndex:-1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.ActiveIndex,t=-1!==e?this.state.NoteList[e]:new m,a=this.state.Uid,n=this.state.DisplayName,i=this.state.NoteList;return o.a.createElement("div",{className:"container-fluid app"},""===a?o.a.createElement(b,{firebase:E.a}):o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4 col-lg-4 col-xl-4 note-panel border-right"},o.a.createElement(h,{UserName:n,NoteList:i,ActiveIndex:e,changeActiveNote:this.handleOnChangeActiveNote,createNewNote:this.handleCreateNewNote,onLogout:function(){return E.a.auth().signOut()}})),o.a.createElement("div",{className:"col-md-8 col-lg-8 col-xl-8 note-content"},-1!==e?o.a.createElement(f,{activeNote:t,handleOnChangeNoteTitle:this.handleOnChangeNoteTitle,handleOnChangeNoteBody:this.handleOnChangeNoteBody,deleteNote:this.handleDeleteNote}):"")))}}]),t}(n.Component);c.a.render(o.a.createElement(O,null),document.getElementById("root"))},62:function(e,t,a){e.exports=a(127)},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.f7aa1584.chunk.js.map