{"version":3,"sources":["classes/Note.js","components/NotePanel/NotePanel.js","components/NoteContent/NoteContent.js","components/FirebaseAuth.js","config.js","App.js","index.js"],"names":["Note","Object","classCallCheck","this","Id","Title","Body","NotePanel","getInitials","str","arr","split","initial","forEach","element","charAt","toUpperCase","userName","props","UserName","NoteList","activeIndex","ActiveIndex","changeActiveNote","createNewNote","fetchingNoteList","FetchingNoteList","react_default","a","createElement","className","onClick","onLogout","class","id","react_loader_spinner_default","type","color","height","width","map","note","index","key","Component","defaultProps","console","log","NoteContent","onChangeNoteTitle","e","title","_this","refs","value","length","preventDefault","handleOnChangeNoteTitle","onChangeNoteBody","body","handleOnChangeNoteBody","handleKeyPress","target","activeNote","ref","placeholder","onChange","deleteNote","autoCapitalize","autoCorrect","spellCheck","autoComplete","onKeyDown","FirebaseAuth","uiConfig","signInFlow","signInOptions","firebase","auth","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","style","marginTop","border","StyledFirebaseAuth_default","firebaseAuth","React","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","db","firestore","App","possibleConstructorReturn","getPrototypeOf","call","handleOnChangeActiveNote","setState","state","notes","dbUpdater","collection","doc","update","NoteTitle","then","catch","NoteBody","handleCreateNewNote","add","Uid","handleDeleteNote","delete","logInUser","user","DisplayName","displayName","uid","localStorage","setItem","logoutUser","removeItem","onNewNoteAdd","data","noteList","push","onNoteModified","findIndex","aNote","onNoteDeleted","filter","dataListener","unsubscribe","where","onSnapshot","snapShot","docChanges","change","componentDidMount","unregisterAuthObserver","onAuthStateChanged","componentWillUnmount","getItem","components_FirebaseAuth","components_NotePanel_NotePanel","signOut","components_NoteContent_NoteContent","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.65d4407f.chunk.js","sourcesContent":["\r\nclass Note {\r\n    constructor() {\r\n        this.Id = \"\";\r\n        this.Title = \"New Note\";\r\n        this.Body = \"\";\r\n    }\r\n}\r\n\r\nexport default Note;","import React, { Component } from 'react';\r\nimport \"./note-panel-style.css\";\r\nimport Loader from 'react-loader-spinner';\r\n\r\nclass NotePanel extends Component {\r\n\r\n    getInitials = str => {\r\n        let arr = str.split(\" \");\r\n        let initial = \"\";\r\n        arr.forEach(element => {\r\n            initial += element.charAt(0);\r\n        });\r\n        return initial.toUpperCase();\r\n    }\r\n\r\n    render() {\r\n        const userName = this.props.UserName;\r\n        const initial = this.getInitials(userName);\r\n        const NoteList = this.props.NoteList;\r\n        const activeIndex = this.props.ActiveIndex;\r\n        const changeActiveNote = this.props.changeActiveNote;\r\n        const createNewNote = this.props.createNewNote;\r\n        const fetchingNoteList = this.props.FetchingNoteList;\r\n        return(\r\n            <div className='panel-container'>\r\n                <div className = 'border-bottom p-1'>\r\n                    <div className='row'>\r\n                        <div className='d-flex flex-row mb-2 col-8'>\r\n                            <div className=\"badge badge-secondary h1 profile-initial mt-2\">{initial}</div>\r\n                            <div className='container ml-2'>\r\n                                <div className='row'><span className='profile-name'>{userName}</span></div>\r\n                                <div className='row mt-1'><button className=\"btn btn-danger btn-sm logout-btn\" onClick={this.props.onLogout}>Logout</button></div>\r\n                            </div>\r\n                        </div>\r\n                        {/* <div className='d-flex align-items-center justify-content-end col-4'>\r\n                            <button className='btn btn-primary' onClick={this.displayList}><i className=\"fas fa-bars\"></i></button>\r\n                        </div> */}\r\n                    </div>\r\n                </div>\r\n                <button className='btn btn-light btn-block my-3' onClick={createNewNote}>Create New Note</button>\r\n                <div class=\"card text-white\">\r\n                    <h5 class=\"card-header border-bottom bg-info text-center\">Saved Notes</h5>\r\n                    <div className='note-list card-body p-2' id='hide-list'>\r\n                    {\r\n                        fetchingNoteList ?\r\n                        <div className='d-flex justify-content-center'><Loader type='Oval' color='#00BFFF' height='100' width='100'/></div>\r\n                        :\r\n                        NoteList.map((note, index) => (\r\n                            <button className = {activeIndex === index ? 'border btn note-option active' : 'border btn note-option'} key = {index} onClick={() => changeActiveNote(index)}>\r\n                                {note.Title}\r\n                            </button>\r\n                        ))\r\n                    }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nNotePanel.defaultProps = {\r\n    NoteList : [],\r\n    ActiveIndex: -1,\r\n    changeActiveNote: console.log,\r\n    createNewNote: console.log,\r\n    FetchingNoteList : false,\r\n}\r\n\r\nexport default NotePanel;","import React, { Component } from 'react';\r\nimport Note from '../../classes/Note.js';\r\nimport \"./note-content-style.css\";\r\n\r\nclass NoteContent extends Component {\r\n\r\n    onChangeNoteTitle = (e) => {\r\n        const title = this.refs.title.value;\r\n        const maxTitleLength = 50;\r\n        if (title.length >= maxTitleLength) {\r\n            e.preventDefault();\r\n        }\r\n        else {\r\n            this.props.handleOnChangeNoteTitle(title);\r\n        }\r\n    }\r\n\r\n    onChangeNoteBody = () => {\r\n        const body = this.refs.body.value;\r\n        this.props.handleOnChangeNoteBody(body);\r\n    }\r\n\r\n    handleKeyPress = (e) => {\r\n        if (e.key === \"Tab\") {\r\n            e.preventDefault();\r\n            e.target.value += \"\\t\";\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let note = this.props.activeNote;\r\n        return(\r\n            <div className='fluid-container note-container'>\r\n                <div className='row border-bottom'>\r\n                    <div className='input-group note-title-group'>\r\n                        <input type='text' className='form-control' ref='title' placeholder='Title' value={note.Title} onChange={this.onChangeNoteTitle}/>\r\n                        <div className=\"input-group-append\">\r\n                            <span className=\"input-group-text btn btn-danger delete-btn\" onClick={this.props.deleteNote}>X</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='row note-body'>\r\n                    <textarea className='form-control' ref='body' placeholder='Body'\r\n                        autoCapitalize='off' autoCorrect='off' spellCheck='false'  autoComplete='off'\r\n                         value={note.Body} onChange={this.onChangeNoteBody} onKeyDown={this.handleKeyPress}></textarea>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nNoteContent.defaultProps = {\r\n    activeNote: new Note(),\r\n    onChangeNoteTitle: console.log,\r\n    onChangeNoteBody: console.log,\r\n    deleteNote: console.log,\r\n}\r\n\r\nexport default NoteContent;","// Import FirebaseAuth and firebase.\r\nimport React from 'react';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\n \r\nclass FirebaseAuth extends React.Component {\r\n \r\n  // Configure FirebaseUI.\r\n  uiConfig = {\r\n    signInFlow: 'popup',\r\n    signInOptions: [\r\n      this.props.firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n    ],\r\n    callbacks: {\r\n      signInSuccessWithAuthResult: () => false\r\n    }\r\n  };\r\n \r\n  render() {\r\n      return (\r\n        <div className='fluid-container text-white' style={{height : '100vh'}}>\r\n            <div className='row'>\r\n                <div className='col-md-4'></div>\r\n                <div className='col-md-4' style={{marginTop : '25vh', border : '2px solid #00b3db'}}>\r\n                    <h1 className='d-flex justify-content-center'>My Notes</h1>\r\n                    <p className='d-flex justify-content-center'>Please &nbsp; <b>Log-In:</b></p>\r\n                    <StyledFirebaseAuth uiConfig={this.uiConfig} firebaseAuth={this.props.firebase.auth()}/>\r\n                </div>\r\n                <div className='col-md-4'></div>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\n\r\nexport default FirebaseAuth;","import firebase from 'firebase';\r\nimport \"firebase/firestore\";\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyBVQGQ4DwJqToUGeFeEjM8BKabG2ux2fUM\",\r\n    authDomain: \"my-notes-2fa1c.firebaseapp.com\",\r\n    databaseURL: \"https://my-notes-2fa1c.firebaseio.com\",\r\n    projectId: \"my-notes-2fa1c\",\r\n    storageBucket: \"my-notes-2fa1c.appspot.com\",\r\n    messagingSenderId: \"761603453110\"\r\n}\r\n\r\nfirebase.initializeApp(config);\r\nvar db = firebase.firestore();\r\n\r\nexport {db, firebase};","import React, { Component } from 'react';\r\nimport Note from \"./classes/Note\";\r\nimport './app-style.css';\r\nimport NotePanel from \"./components/NotePanel/NotePanel\";\r\nimport NoteContent from './components/NoteContent/NoteContent';\r\nimport FirebaseAuth from \"./components/FirebaseAuth\";\r\nimport {db, firebase} from './config';\r\n\r\nclass App extends Component {\r\n  //App Constructor\r\n  constructor(props) {\r\n    super(props);\r\n    let uid = localStorage.getItem(\"uid\") !== null ? localStorage.getItem(\"uid\") : '';\r\n    let displayName = localStorage.getItem(\"displayName\") !== null ? localStorage.getItem(\"displayName\") : '';\r\n    this.state = {\r\n      Uid : uid,\r\n      DisplayName : displayName,\r\n      NoteList : [],\r\n      ActiveIndex : -1,\r\n      FetchingNoteList : true,\r\n    }\r\n  }\r\n\r\n  //change current viewing note when onClick\r\n  handleOnChangeActiveNote = index => {\r\n    this.setState({\r\n      ActiveIndex : index,\r\n    });\r\n  }\r\n\r\n  //change note title of activeNote\r\n  handleOnChangeNoteTitle = title => {\r\n    const activeIndex = this.state.ActiveIndex;\r\n    if (activeIndex !== -1) {\r\n      let notes = this.state.NoteList;\r\n      let dbUpdater = db.collection('notes')\r\n        .doc(notes[activeIndex].Id)\r\n        .update({\r\n          NoteTitle : title\r\n        });\r\n        dbUpdater.then().catch(dbUpdater);\r\n    }\r\n  }\r\n\r\n  //change note body of activeNote\r\n  handleOnChangeNoteBody = body => {\r\n    const activeIndex = this.state.ActiveIndex;\r\n    if (activeIndex !== -1) {\r\n      let notes = this.state.NoteList;\r\n      let dbUpdater = db.collection('notes')\r\n        .doc(notes[activeIndex].Id)\r\n        .update({\r\n          NoteBody : body,\r\n        });\r\n        dbUpdater.then().catch(dbUpdater);\r\n    }\r\n  }\r\n\r\n  //create new note \r\n  handleCreateNewNote = () => {\r\n    let note = new Note();\r\n    let dbUpdater = db.collection(\"notes\").add({\r\n      NoteTitle: note.Title,\r\n      NoteBody: note.Body,\r\n      Uid: this.state.Uid,\r\n    });\r\n    dbUpdater.then().catch(dbUpdater);\r\n  }\r\n\r\n  //deleteNote\r\n  handleDeleteNote = () => {\r\n    let notes = this.state.NoteList;\r\n    let activeIndex = this.state.ActiveIndex;\r\n    let dbUpdater = db.collection(\"notes\").doc(notes[activeIndex].Id).delete();\r\n    dbUpdater.then().catch(dbUpdater);\r\n  }\r\n\r\n  //change state and save info in local storage\r\n  logInUser = user => {\r\n    this.setState({\r\n      NoteList: [],\r\n      activeIndex: -1,\r\n      DisplayName: user.displayName,\r\n      Uid: user.uid,\r\n    }, () => {\r\n      localStorage.setItem(\"uid\", this.state.Uid);\r\n      localStorage.setItem(\"displayName\", this.state.DisplayName);\r\n    })\r\n  }\r\n\r\n  //change state and reset info in local storage\r\n  logoutUser = () => {\r\n    this.setState({\r\n      NoteList : [],\r\n      activeIndex : -1,\r\n      DisplayName: '',\r\n      Uid: '',\r\n    }, () => {\r\n      localStorage.removeItem(\"uid\");\r\n      localStorage.removeItem(\"displayName\");\r\n    })\r\n  }\r\n\r\n  //add new note to state if new note added to db\r\n  onNewNoteAdd = (data, id) => {\r\n    let note = new Note();\r\n    note.Title = data.NoteTitle;\r\n    note.Body = data.NoteBody;\r\n    note.Id = id;\r\n    let noteList = this.state.NoteList;\r\n    noteList.push(note);\r\n    this.setState({\r\n      NoteList : noteList,\r\n    });\r\n  }\r\n\r\n  //modify note from state if modification noted on db\r\n  onNoteModified = (data, id) => {\r\n    let notes = this.state.NoteList;\r\n    let index = notes.findIndex(aNote => aNote.Id === id);\r\n    notes[index].Title = data.NoteTitle;\r\n    notes[index].Body = data.NoteBody;\r\n    this.setState({\r\n      NoteList : notes,\r\n    });\r\n  }\r\n\r\n  //delete note from state if note deleted from db\r\n  onNoteDeleted = (id) => {\r\n    let notes = this.state.NoteList;\r\n    notes = notes.filter(aNote => aNote.Id !== id);\r\n    this.setState({\r\n      NoteList: notes,\r\n      ActiveIndex: -1\r\n    });\r\n  }\r\n\r\n  //set listner for data changes\r\n  dataListener = () => {\r\n    this.unsubscribe = db.collection('notes')\r\n      .where(\"Uid\", \"==\", this.state.Uid)\r\n        .onSnapshot((snapShot) => {\r\n          snapShot.docChanges().forEach((change) => {\r\n            if (change.type === 'added') {\r\n              this.onNewNoteAdd(change.doc.data(), change.doc.id);\r\n            }\r\n            if (change.type === 'modified') {\r\n              this.onNoteModified(change.doc.data(), change.doc.id);\r\n            }\r\n            if (change.type === 'removed') {\r\n              this.onNoteDeleted(change.doc.id);\r\n            }\r\n          });\r\n          //turn off loader\r\n          this.setState({\r\n            FetchingNoteList: false,\r\n          });\r\n        });\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    //check if auth state changes\r\n    this.unregisterAuthObserver = firebase.auth().onAuthStateChanged(\r\n        user => {\r\n          if (user !== null) {\r\n            this.logInUser(user);\r\n            this.dataListener();\r\n          }\r\n          else {\r\n            this.logoutUser();\r\n            this.unsubscribe();\r\n          }\r\n        }\r\n    );\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    this.unregisterAuthObserver();\r\n  }\r\n\r\n  //Render App\r\n  render() {\r\n    const activeIndex = this.state.ActiveIndex;\r\n    const activeNote = activeIndex !== -1 ? this.state.NoteList[activeIndex] : new Note();\r\n    const uid = this.state.Uid;\r\n    const userName = this.state.DisplayName;\r\n    const noteList = this.state.NoteList;\r\n    const fetchingNoteList = this.state.FetchingNoteList;\r\n    return (\r\n      <div className = 'container-fluid app'>\r\n        { (uid === \"\")\r\n          ? <FirebaseAuth firebase={firebase} />\r\n          :\r\n          <div className = 'row'>\r\n            <div className = 'col-md-4 col-lg-4 col-xl-4 note-panel border-right'>\r\n              <NotePanel UserName={userName} NoteList={noteList} ActiveIndex={activeIndex} FetchingNoteList={fetchingNoteList} changeActiveNote={this.handleOnChangeActiveNote} createNewNote={this.handleCreateNewNote} onLogout={() => firebase.auth().signOut()}/>\r\n            </div>\r\n            <div className = 'col-md-8 col-lg-8 col-xl-8 note-content'>\r\n              {activeIndex !== -1 ? <NoteContent activeNote={activeNote} handleOnChangeNoteTitle={this.handleOnChangeNoteTitle} handleOnChangeNoteBody={this.handleOnChangeNoteBody} deleteNote={this.handleDeleteNote}/> : ''}\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'));\r\n"],"sourceRoot":""}